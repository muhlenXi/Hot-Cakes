---
title: 关于 App 中的启动广告页
date: 2018-07-01 21:23:56
categories: blog
tags: 
---

 *版权声明：本文为 muhlenXi 原创文章，欢迎转载，转载请注明来源: <http://muhlenxi.com/2018/07/01/Advertisement>*

### 导语：

> 当我们在手机上单击一些主流 App  的 Icon 时，首先映入眼帘的是加载页，加载页也奠定了一个 App 的主题风格，稍后会淡入一个广告页，然后停留几秒，最后淡出，这是怎么做到的呢？

<!-- more -->

### 实现思路

其实要实现这样的效果，思路也不难，大体如下：

1、在 App 加载完成的时候，在界面的最上面覆盖一个自定义 View，该 view 中的图片显示为加载页的图片。

2、同时开启一个 n 秒的定时器和子线程，在子线程中去获取后台服务器或者本地的数据，获取到广告数据后，停止第一个定时器，再开一个跳过按钮的倒计时定时器，然后用数据填充刷新 View。

3、移除该 view，进入主页面的操作主要分为以下三种情况：

-  第一个定时器倒计时完成终止。
- 因为网络 API 或读本地数据出现错误时。
- 当用户点击跳过按钮或者点击广告页时。

### 关键点

关键点如下：

1、广告 View 的实现，该 View 中有两个 ImageView，其中 ImageView1 用来显示启动页的图片，ImageView2 用来展示广告页，当获取到广告图片后，填充 ImageView2后，然后做一个动画，动画执行的动作为 Imageview1 的 alpha 从 1 -> 0 , ImageView2 的 alpha 从 0 -> 1, 跳过按钮的 alpha 从 0 -> 1。这样的用户体验会更佳。

2、移除广告View 不能太突兀，应该做一个 Transition 动画。

[完整的 demo](https://github.com/muhlenXi-Team/AboutAdvertisementScene) 在这里，下载后运行可体验本文所描述的效果。

*哇，读到这里了，真棒！每天进步一点点！为你的专注点赞！我们下篇见。*

如果你还有更好的思路，欢迎留言一起探讨。